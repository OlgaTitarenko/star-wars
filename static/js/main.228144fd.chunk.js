(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{22:function(e,t,a){e.exports=a(35)},28:function(e,t,a){},34:function(e,t,a){},35:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(18),c=a.n(l),o=a(37),i=(a(28),a(6)),u=a(7),s=a(9),m=a(8),p=a(10),d=a(36),h=a(38),f=a(21),E=function(){return r.a.createElement("div",{className:"HomePage"},r.a.createElement("h1",null,"Home page"))},v=a(5),g=a.n(v),b=a(11),y=a(16),j=function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];return fetch("https://swapi.co/api"+e).then(function(e){return e.json()})},O=function(e){var t=e.page,a=void 0===t?1:t,n=e.search,r=void 0===n?"":n,l=new URLSearchParams;return l.set("page",a),l.set("search",r),j("/films?".concat(l.toString()))},k=function(e){return j("".concat(e))},w=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={isLoaded:!1,filmsId:"",films:[]},a.loadFilms=Object(b.a)(g.a.mark(function e(){var t,n,r;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.state.filmsId,e.next=3,O({filmsId:t});case 3:n=e.sent,r=n.results,a.setState({films:r,isLoaded:!0});case 6:case"end":return e.stop()}},e)})),a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.updatePageFromURL()}},{key:"updatePageFromURL",value:function(){var e=this.props.location.pathname;this.setState({filmsId:e},this.loadFilms)}},{key:"render",value:function(){var e=this.state,t=e.films,a=e.isLoaded;return r.a.createElement("div",{className:"FilmsPage"},r.a.createElement("h1",null,"Films page"),a?r.a.createElement(r.a.Fragment,null,r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("td",null,"Title"),r.a.createElement("td",null,"Episode id"),r.a.createElement("td",null,"Director"),r.a.createElement("td",null,"Producer"))),r.a.createElement("tbody",null,t.map(function(e){return r.a.createElement(L,{film:e,key:e.url})})))):r.a.createElement("p",null,"Loading..."))}}]),t}(r.a.Component),L=function(e){var t=e.film;return r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement(y.a,{to:t.url.replace("https://swapi.co/api","")},t.title)),r.a.createElement("td",null,t.episode_id),r.a.createElement("td",null,t.director),r.a.createElement("td",null,t.producer))},P=w,S=function(e){var t=e.page,a=void 0===t?1:t,n=e.search,r=void 0===n?"":n,l=new URLSearchParams;return l.set("page",a),l.set("search",r),j("/people?".concat(l.toString()))},F=function(e){return j("".concat(e))},I=a(39),x=Object(I.a)(function(e){for(var t=e.location,a=e.count,n=(e.page,e.perPage),l=void 0===n?10:n,c=Math.ceil(a/l),o=[],i=0;i<c;i++)o.push(i+1);var u=function(e){var a=new URLSearchParams(t.search);return a.set("page",e),a.toString()};return r.a.createElement("div",{className:"Pagination"},o.map(function(e){return r.a.createElement(y.a,{key:e,to:{pathname:t.pathname,search:u(e)}},e)}))}),U=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={isLoaded:!1,page:0,count:0,people:[]},a.loadPeople=Object(b.a)(g.a.mark(function e(){var t,n,r,l;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.state.page,e.next=3,S({page:t});case 3:n=e.sent,r=n.count,l=n.results,a.setState({people:l,count:r,isLoaded:!0});case 7:case"end":return e.stop()}},e)})),a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.updatePageFromURL()}},{key:"componentDidUpdate",value:function(){this.updatePageFromURL()}},{key:"updatePageFromURL",value:function(){var e=this.props.location,t=+new URLSearchParams(e.search).get("page")||1;t!==this.state.page&&this.setState({page:t},this.loadPeople)}},{key:"render",value:function(){var e=this.state,t=e.people,a=e.isLoaded,n=e.count,l=e.page;return r.a.createElement("div",{className:"PeoplePage"},r.a.createElement("h1",null,"People page"),a?r.a.createElement(r.a.Fragment,null,r.a.createElement(x,{count:n,page:l}),r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("td",null,"Name"),r.a.createElement("td",null,"Mass"),r.a.createElement("td",null,"Height"),r.a.createElement("td",null,"Hair color"),r.a.createElement("td",null,"Skin color"))),r.a.createElement("tbody",null,t.map(function(e){return r.a.createElement(R,{person:e,key:e.name})})))):r.a.createElement("p",null,"Loading..."))}}]),t}(r.a.Component),R=function(e){var t=e.person;return r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement(y.a,{to:t.url.replace("https://swapi.co/api","")},t.name)),r.a.createElement("td",null,t.mass),r.a.createElement("td",null,t.height),r.a.createElement("td",null,t.hair_color),r.a.createElement("td",null,t.skin_color))},N=U,D=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={isLoaded:!1,personId:"",person:[]},a.loadPerson=Object(b.a)(g.a.mark(function e(){var t;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F(a.state.personId);case 2:t=e.sent,a.setState({isLoaded:!0,person:t});case 4:case"end":return e.stop()}},e)})),a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.location.pathname;this.setState({personId:e},this.loadPerson)}},{key:"render",value:function(){var e=this.state,t=e.isLoaded,a=e.person;return r.a.createElement("div",null,"PersonPage",t?r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement("ul",null,Object.keys(a).map(function(e){return r.a.createElement("li",{key:e},r.a.createElement("span",null,e.replace("_"," ")," - "),r.a.createElement("br",null),"string"===typeof a[e]?a[e]:a[e].length)}))):r.a.createElement("div",null,"Loading"))}}]),t}(r.a.Component),M=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={isLoaded:!1,filmId:"",film:[]},a.loadFilm=Object(b.a)(g.a.mark(function e(){var t;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k(a.state.filmId);case 2:t=e.sent,a.setState({isLoaded:!0,film:t});case 4:case"end":return e.stop()}},e)})),a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.location.pathname;this.setState({filmId:e},this.loadFilm)}},{key:"render",value:function(){var e=this.state,t=e.isLoaded,a=e.film;return r.a.createElement("div",null,"Film Page",t?r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement("ul",null,Object.keys(a).map(function(e){return r.a.createElement("li",{key:e},r.a.createElement("span",null,e.replace("_"," ")," - "),r.a.createElement("br",null),"string"===typeof a[e]||"number"===typeof a[e]?a[e]:a[e].length)}))):r.a.createElement("div",null,"Loading"))}}]),t}(r.a.Component),A=(a(34),function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement("h1",null,"Star Wars"),r.a.createElement("div",{className:"navLinks"},r.a.createElement(d.a,{to:"/"},"Home")," ",r.a.createElement("br",null),r.a.createElement(d.a,{to:"/films"},"Films")," ",r.a.createElement("br",null),r.a.createElement(d.a,{to:"/people"},"People")," ",r.a.createElement("br",null)),r.a.createElement("section",null,r.a.createElement(h.a,null,r.a.createElement(f.a,{exact:!0,path:"/",component:E}),r.a.createElement(f.a,{path:"/films/:id",component:M}),r.a.createElement(f.a,{path:"/films",component:P}),r.a.createElement(f.a,{path:"/people/:id",component:D}),r.a.createElement(f.a,{path:"/people",component:N}),r.a.createElement(f.a,{render:function(){return r.a.createElement("h1",null,"Page not found")}}))))}}]),t}(n.Component));c.a.render(r.a.createElement(o.a,{basename:"/star-wars"},r.a.createElement(A,null)),document.getElementById("root"))}},[[22,1,2]]]);
//# sourceMappingURL=main.228144fd.chunk.js.map